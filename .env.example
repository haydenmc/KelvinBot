# KelvinBot Configuration Example
# Copy this file to .env and customize for your setup

# Data directory for bot storage
KELVIN__DATA_DIRECTORY=./data

# ============================================================
# Middleware Configuration
# ============================================================
# Define middleware instances with their configuration

# Echo middleware - responds to messages starting with a command string
KELVIN__MIDDLEWARES__myecho__KIND=echo
KELVIN__MIDDLEWARES__myecho__COMMAND_STRING=!echo

# Logger middleware - logs all events
KELVIN__MIDDLEWARES__logger__KIND=logger

# Invite middleware - generates registration tokens for local users
KELVIN__MIDDLEWARES__myinvite__KIND=invite
KELVIN__MIDDLEWARES__myinvite__COMMAND_STRING=!invite
# Optional: configure token parameters (defaults: uses_allowed=1, expiry=7d)
# Expiry accepts human-readable durations: "7d", "1w", "24h", "30m", etc.
# KELVIN__MIDDLEWARES__myinvite__USES_ALLOWED=1
# KELVIN__MIDDLEWARES__myinvite__EXPIRY=7d

# Movie Showtimes middleware - posts weekly movie showtimes on a schedule
# KELVIN__MIDDLEWARES__movies__KIND=movieshowtimes
# KELVIN__MIDDLEWARES__movies__SERVICE_ID=matrix_main
# KELVIN__MIDDLEWARES__movies__ROOM_ID=!roomid:matrix.org
# KELVIN__MIDDLEWARES__movies__POST_ON_DAY_OF_WEEK=Friday
# KELVIN__MIDDLEWARES__movies__POST_AT_TIME=09:00
# KELVIN__MIDDLEWARES__movies__SEARCH_LOCATION__LAT=47.6062
# KELVIN__MIDDLEWARES__movies__SEARCH_LOCATION__LNG=-122.3321
# KELVIN__MIDDLEWARES__movies__SEARCH_RADIUS_MI=10
# KELVIN__MIDDLEWARES__movies__GRACENOTE_API_KEY=your_api_key_here
# KELVIN__MIDDLEWARES__movies__THEATER_ID_FILTER=1234,5678,9012
# Note: POST_ON_DAY_OF_WEEK: Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday
# Note: POST_AT_TIME format: HH:MM (24-hour format)
# Note: THEATER_ID_FILTER is a comma-separated priority list (shows first match with details, others as "also showing at")

# ============================================================
# Service Configuration
# ============================================================

# Example: Dummy service for testing and development
KELVIN__SERVICES__test_dummy__KIND=dummy
KELVIN__SERVICES__test_dummy__INTERVAL_MS=2000
KELVIN__SERVICES__test_dummy__MIDDLEWARE=logger

# Example: Matrix service configuration
# Uncomment and configure to connect to a Matrix homeserver
# KELVIN__SERVICES__matrix_main__KIND=matrix
# KELVIN__SERVICES__matrix_main__HOMESERVER_URL=https://matrix.org
# KELVIN__SERVICES__matrix_main__USER_ID=@yourbot:matrix.org
# KELVIN__SERVICES__matrix_main__PASSWORD=your_bot_password
# KELVIN__SERVICES__matrix_main__DEVICE_ID=KELVINBOT_DEV
# KELVIN__SERVICES__matrix_main__DB_PASSPHRASE=some_encryption_passphrase
# KELVIN__SERVICES__matrix_main__VERIFICATION_DEVICE_ID=YOURDEVICEID
# KELVIN__SERVICES__matrix_main__MIDDLEWARE=myecho,myinvite,logger
#
# Note: VERIFICATION_DEVICE_ID should be the device ID of an already-verified Element/Matrix client
# The bot will request interactive verification with this device on startup
# Note: MIDDLEWARE is a comma-separated list of middleware names (parsed automatically)
# Note: Token parameters (uses_allowed, expiry) are configured in the invite middleware, not here

# ============================================================
# Logging Configuration (optional)
# ============================================================
# RUST_LOG=debug
# RUST_LOG=kelvin_bot=info,matrix_sdk=warn